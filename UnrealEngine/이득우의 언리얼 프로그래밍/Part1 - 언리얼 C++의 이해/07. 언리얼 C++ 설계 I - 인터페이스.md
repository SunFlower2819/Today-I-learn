# 강의 목표
* 언리얼 C++ 인터페이스 클래스를 사용해 보다 안정적으로 클래스를 설계하는 기법의 학습

---

# 언리얼 C++ 인터페이스
인터페이스는 모던 객체 지향 설계에 유용하게 사용되는 타입이다.
이는 어떤 객체를 설계한 클래스가 반드시 구현해야 할 행동을 지정하는데 활용된다.

이러한 인터페이스는 모던 객체 지향 설계에서 다형성을 구현하거나 의존성이 분리된 설계에 유용하게 활용할 수 있다.
우리가 사용하는 언리얼 엔진도 인터페이스를 지원하는데, 이 인터페이스를 사용해서 게임 프레임웍을 구축한 예시는 아래와 같다.

언리얼 엔진에 월드에 배치되는 모든 오브젝트를 액터라고 하는데, 이 액터는 움직이는 물체와 움직이지 않는 물체를 모든 통틀어
의미하는 상위 개념이라고 할 수 있다.

그런데 여기서 움직이는 오브젝트에 특수한 기능을 부여하고 싶을 땐, 액터를 상속받은 Pawn이라는 클래스를 또 하나 정의한다.
이 Pawn을 정의할 때, 길찾기 시스템을 사용하면서 움직여야 한다는 조건을 붙이고 싶다면 인터페이스를 사용하면 된다.

실제로 언리얼 엔진 소스 코드에서는 이 Pawn 클래스를 설계할 때 `INavAgentInterface`라고 하는 인터페이스를 구현하도록 설계가
되어 있다.

* 인터페이스란?
  * 객체가 ***반드시*** 구현해야 할 행동을 지정하는데 활용되는 타입
  * 다형성(Polymorphism)의 구현, 의존성이 분리(Decouple)된 설계에 유용하게 활용
    
* 언리얼 엔진에서 게임 콘텐츠를 구성하는 오브젝트의 설계 예시
  * 월드에 배치되는 모든 오브젝트, 안 움직이는 오브젝트를 포함해서 Actor라고 한다.
  * 움직이는 오브젝트는 Pawn
  * 길찾기 시스템을 반드시 사용하면서 움직이는 오브젝트(`INavAgentInterface` 인터페이스를 구현한 Pawn)

![image](https://github.com/SunFlower2819/Today-I-learned/assets/130738283/a751948d-3121-49dc-9e73-c00710e66f14)

---

# 예제를 위한 클래스 다이어그램
* 수업에 참여하는 사람과 참여하지 않는 사람의 구분
  * 수업에 ***반드시*** 참여해야 하는 학교 구성원
  * 수업에 참여하지 않는 학교 구성원: 교직원
  * 수업 행동에 관련된 인터페이스: ILessonInterface
 
🎈🎈이렇게 같은 인물 클래스에서 상속받지만, ***반드시*** 구현해야 되는 기능이 명시된 경우에는 이것을 위한 인터페이스를 따로 설계하고,
분리해서 Student와 Teacher 클래스에 각각 부여해주는 것이 좋다.

![image](https://github.com/SunFlower2819/Today-I-learned/assets/130738283/c16ee74d-1ebe-4724-be20-db068f057316)

## 🔥언리얼 C++ 인터페이스 특징
언리얼 엔진에서 인터페이스를 생성하게 되면, 두가지 클래스가 항상 기본으로 생성이 된다.
즉, 하나의 인터페이스에 두 개의 클래스가 생성된다고 볼 수 있다.

하나는 접두사 `U`로 시작하고, 하나는 접두사 `I`로 시작된다.

`U`로 시작하는 클래스는, 클래스 타입 정보를 제공하는 타입 전용 클래스라고 볼 수가 있고,
실질적인 설계 및 구현은 `I`로 시작하는 인터페이스 클래스에서 진행해주면 된다.

그리고 C++ 언어를 기반으로 하다보니, 인터페이스를 추상타입으로만 선언할 수 있는 Java나 C# 언어와 다르게, 
언리얼은 내부적으로 C++의 클래스를 사용해서 인터페이스를 구현하기 때문에 추상타입으로 강제할 방법이 없다.
따라서 언리얼은 인터페이스에도 기본 로직에 구현이 가능하다는 차이점이 있다.

![image](https://github.com/SunFlower2819/Today-I-learned/assets/130738283/9adf117a-74c6-4f00-b399-5884155c769a)

---
참고로 기존의 `ObjectReflection` 파일의 소스코드를 `UnrealInterface` 파일로 복사/붙여넣기를 한다면
바꿔줘야할 부분이 있다.

![image](https://github.com/SunFlower2819/Today-I-learned/assets/130738283/cea9111f-a4af-4638-88dc-eede990a14c2)

아래와 같이 바꿔줘야 한다. 프로젝트 이름을 대문자로 쓰면 된다.

![image](https://github.com/SunFlower2819/Today-I-learned/assets/130738283/2f240b2e-5fa8-40a4-9331-4a6bed2efef7)

---



































